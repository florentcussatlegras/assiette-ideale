

<div class="flex items-center justify-end py-2.5 gap-2 ml-auto">

    <div class="container-list-meal-model">

    </div>

    {# {% set rankMealNew = rankMeal + 1 %} #}

    {% if app.session.get('_meal_day_date') != 'model' %}

        {# {% if 'dishAndFoods' in app.session.get('_meal_day_' ~ countMeals)|keys and app.session.get('_meal_day_' ~ countMeals)['dishAndFoods'] is not empty %} #}
        <div class="btn-add-meal flex items-center gap-4 w-full">

            <div 
                {{ stimulus_controller('model-meal', {
                    url: path('modal_meal_type_list'),
                    urlRemove: path('model_meal_remove'),
                    lastRankMeal: app.session.get('_meal_day_range')|default("none")
                }) }} 
                data-action="keydown.esc->model-meal#hideMeals"
            >

                {# <button
                    data-modal-target="model-meal"
                    data-action="click->model-meal#show" 
                    class="text-dark-blue font-bold p-2 md:p-4 flex items-center gap-2"
                    type="button"
                    class="absolute bottom-0 right-0"
                >
                    <svg class="w-7 h-7" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#0369a1"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 14L11.2929 14.7071L12 15.4142L12.7071 14.7071L12 14ZM13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44771 11 5L13 5ZM6.29289 9.70711L11.2929 14.7071L12.7071 13.2929L7.70711 8.29289L6.29289 9.70711ZM12.7071 14.7071L17.7071 9.70711L16.2929 8.29289L11.2929 13.2929L12.7071 14.7071ZM13 14L13 5L11 5L11 14L13 14Z" fill="#0369a1"></path> <path d="M5 16L5 17C5 18.1046 5.89543 19 7 19L17 19C18.1046 19 19 18.1046 19 17V16" stroke="#0369a1" stroke-width="2"></path> </g></svg>
                </button> #}

                <button 
                    type="button" 
                    data-toggle="modal"
                    data-action="click->model-meal#show"
                    data-target="#modelMeal"
                    class="text-dark-blue font-bold p-2 md:p-4 flex items-center gap-2"
                    type="button"
                >
                    <svg class="w-10 h-10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#0284C7"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 14L11.2929 14.7071L12 15.4142L12.7071 14.7071L12 14ZM13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44771 11 5L13 5ZM6.29289 9.70711L11.2929 14.7071L12.7071 13.2929L7.70711 8.29289L6.29289 9.70711ZM12.7071 14.7071L17.7071 9.70711L16.2929 8.29289L11.2929 13.2929L12.7071 14.7071ZM13 14L13 5L11 5L11 14L13 14Z" fill="#0284C7"></path> <path d="M5 16L5 17C5 18.1046 5.89543 19 7 19L17 19C18.1046 19 19 18.1046 19 17V16" stroke="#0EA5E9" stroke-width="2"></path> </g></svg>
                </button>

                {{ include('meals/day/_modal_list_model_meals.html.twig') }}

            </div>

            {# <button 
                data-action="meal#onAddMeal"
                class="ml-auto bg-gray rounded-full font-bold px-4 py-3 flex items-center gap-2" 
                data-url="{{ path('meal_day_add') }}"
                data-url-redirect="{{ path('meal_day') }}"
            >
                <svg viewBox="0 0 24 24" class="w-5 h-5" data-v-563d9226=""><path d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" data-v-563d9226=""></path></svg>
                <span>Cr√©er un nouveau repas</span>
            </button> #}

            {# <div 
                class="flex items-center gap-4 p-4"
                style="position: fixed; right: 0; bottom: 0; margin-bottom: 2.5em; text-align: right"
            > #}

                <button 
                    type="submit" 
                    class="new-meal flex items-center p-2 md:p-4 font-bold gap-2 cursor-pointer mr-2"
                    data-action="meal#onAddMeal"
                    data-url="{{ path('meal_day_add') }}"
                    data-url-redirect="{{ path('meal_day') }}"
                    {# style="position: fixed; right: 30px; bottom: 0; margin-bottom: 2.5em; text-align: right; z-index: 3" #}
                >
                    <div class="inline-block rounded-sm group">
                        {# <svg viewBox="0 0 24 24" class="w-10 h-10 transition duration-300" xmlns="http://www.w3.org/2000/svg">
                            <rect x="0" y="0" width="24" height="24" rx="2" fill="#0284C7" />
                            <path d="M17 13H13V17H11V13H7V11H11V7H13V11H17Z" fill="white"/>
                        </svg> #}
                        <svg viewBox="0 0 24 24" class="w-10 h-10 transition-colors duration-300" xmlns="http://www.w3.org/2000/svg">
                            <rect
                            x="0"
                            y="0"
                            width="24"
                            height="24"
                            rx="2"
                            class="fill-sky-600 group-hover:fill-sky-700 transition-colors duration-300"
                            />
                            <path
                            d="M17 13H13V17H11V13H7V11H11V7H13V11H17Z"
                            fill="white"
                            />
                        </svg>
                    </div>
                </button>

            {# </div> #}
        
        </div>

        {# {% endif %} #}
        
        {# <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" id="upload" class="w-6 h-6 text-cool-gray-800 dark:text-cool-gray-200 group-hover:text-purple-600 group-focus:text-purple-600 dark:group-hover:text-purple-50 dark:group-focus:text-purple-50"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg> #}
        
        {# <a href="#" class="list-meal-type flex flex-row" data-rank-meal="{{ countMeals + 1 }}" data-toggle="modal" data-target="#listMealTypeModal">
            Importer un repas depuis ma liste
        </a> #}

        {# {{ render(controller("App\\Controller\\meal\\ModelController::listModalMealType")) }} #}
       
             
        {# <div 
            {{ stimulus_controller('model-meal', {
                url: path('modal_meal_type_list')
            }) }} 
            data-action="keydown.esc->model-meal#close" 
            tabindex="-1" 
            class="relative z-10"
        > #}

            {# <button 
                href="#"
                data-modal-target="model-meal"
                data-action="click->model-meal#show" 
                data-rank-meal="{{ countMeals|default("none") }}"
                class="text-dark-blue border text-white font-bold py-2 px-4 rounded-md flex items-center gap-2"
            >
                <span>Importer un repas depuis ma liste</span>
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14">
                    </path>
                </svg>
            </button> #}

            {# <div class="hidden fixed inset-0 bg-black overflow-y-auto flex items-center justify-center"
                data-model-meal-target="background"
                data-action="click->model-meal#closeBackground"
                data-transition-enter="transition-all ease-in-out duration-300"
                data-transition-enter-from="bg-opacity-0"
                data-transition-enter-to="bg-opacity-50"
                data-transition-leave="transition-all ease-in-out duration-300"
                data-transition-leave-from="bg-opacity-80"
                data-transition-leave-to="bg-opacity-0">

                <!-- Modal Container -->
                <div data-model-meal-target="container" class="max-h-screen w-full max-w-lg relative">
                    <!-- Modal Card -->
                    <div class="m-1 bg-white rounded shadow">

                        <div class="p-8">

                            <h2 class="text-xl mb-4">Vos repas</h2>
                            
                            <p 
                                class="mb-4 content"
                                data-model-meal-target="content"
                            ></p>

                            <div class="flex justify-end items-center flex-wrap mt-6">
                                <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-action="click->model-meal#close:prevent">Close</button>
                            </div>

                        </div>
                        
                    </div>

                </div>
        
            </div> #}
            
        </div>

    {% endif %}

    {# {{ render(controller('App\\Controller\\meal\\ModelController::listModalMealType', {'rankMeal' : rankMeal})) }} #}

</div>