{% extends "base.html.twig" %}

{% block title %}
	{{ parent() }}
	- Tableau de bord
{% endblock %}

{% block body %}

	<div class="flex flex-col w-full md:w-4/5 mx-auto py-12 relative">

		{{ render(path('app_energy_adjustment_message')) }}

		<div
			class="flex flex-col md:flex-row items-start md:items-stretch gap-6 w-full justify-center md:justify-between"
		>

			<div class="flex flex-col w-full lg:w-1/2 items-start">

				<h1 class="text-2xl md:text-4xl mb-0 font-bold">
					Mon espace
				</h1>

				<div class="flex-col w-full md:w-auto flex md:flex-row mt-6 items-center gap-4">

					<div 
						{{ stimulus_controller('modal-form-profile') }}
						class="flex-1 w-full md:w-auto"
					>
						{{ include('dashboard/_weight_form_modal.html.twig') }}

						<button
							type="button"
							data-action="modal-form-profile#open"
							class="w-full md:w-auto md:flex-1 inline-flex justify-center items-center gap-2 px-4 py-2 bg-sky-600 text-white whitespace-nowrap rounded-lg hover:bg-sky-700 transition duration-300 shadow-sm">	
							<svg fill="#ffffff" class="w-7 h-7" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M19,4H17.55A3.08,3.08,0,0,0,17,3a3,3,0,0,0-2.25-1H9.27A3,3,0,0,0,7,3a3.08,3.08,0,0,0-.57,1H5A3,3,0,0,0,2,7V19a3,3,0,0,0,3,3H19a3,3,0,0,0,3-3V7A3,3,0,0,0,19,4ZM8.52,4.34A1,1,0,0,1,9.27,4h5.46a1,1,0,0,1,.75.34,1,1,0,0,1,.25.78l-.5,4a1,1,0,0,1-1,.88H12.59l1.14-2.4a1,1,0,0,0-1.8-.86L10.37,10h-.6a1,1,0,0,1-1-.88l-.5-4A1,1,0,0,1,8.52,4.34ZM20,19a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1V7A1,1,0,0,1,5,6H6.37l.42,3.37a3,3,0,0,0,3,2.63h4.46a3,3,0,0,0,3-2.63L17.63,6H19a1,1,0,0,1,1,1Zm-6-3H10a1,1,0,0,0,0,2h4a1,1,0,0,0,0-2Z"></path></g></svg>
							<span>Saisir votre poids</span>
						</button>
					</div>

					<div 
						{{ stimulus_controller('weight-chart', {
							url: path('app_evolution_chart_weight')
						}) }}
						class="flex-1 w-full md:w-auto"
					>
						{{ include('dashboard/_weight_chart_modal.html.twig') }}

						<button
							type="button"
							data-action="weight-chart#open"
							class="w-full md:w-auto md:flex-1 inline-flex justify-center items-center gap-2 px-4 py-2 border border-sky-600 text-sky-600 whitespace-nowrap rounded-lg hover:bg-sky-50 transition duration-300">
							<svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
									d="M9 17v-6m3 6v-4m3 4v-2m3 6V9a2 2 0 00-2-2H5a2 2 0 00-2 2v12h18z" />
							</svg>
							<span>Voir mon Ã©volution</span>
						</button>
					</div>

				</div>

			</div>

			<div class="flex flex-col md:flex-row w-full lg:w-1/2">

				<div class="flex flex-col items-start md:items-end w-full gap-4">

					<div class="flex flex-col md:flex-row w-full justify-start md:justify-end gap-4 md:items-stretch">

						<div class="bg-red-100 rounded-2xl py-4 px-6 relative shadow-soft">

							{{ render(controller('App\\Controller\\ProfileController::energy'))}}

						</div>

						<div class="bg-green-100 rounded-2xl py-4 shadow-soft flex flex-col items-stretch px-4">

							{{ render(controller('App\\Controller\\ProfileController::imc')) }}

						</div>

					</div>

				</div>

			</div>

		</div>

		<div class="flex flex-row items-start xl:items-center mt-8">

			<div class="py-0 md:py-8">
				{{ include('dashboard/menu.html.twig') }}
			</div>

			<div class="flex-1 flex grid grid-cols-6 gap-6 px-8">
				{% for category in secondary %}
					{{ include('dashboard/_category.html.twig') }}
				{% endfor %}
			</div>

		</div>

	</div>

{% endblock %}
