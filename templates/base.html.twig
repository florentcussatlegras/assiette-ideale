<!DOCTYPE html>
<html
	lang="fr" class="light">
	<!-- BEGIN: Head -->
	<head>
		<meta charset="utf-8">
		<meta
		name="viewport" content="width=device-width, initial-scale=1">

		{# Meta tags dynamiques #}
		<meta name="description" content="{% block meta_description %}fc-nutrition.com{% endblock %}">
		<meta name="keywords" content="{% block meta_keywords %}nutrition, bilan, santé{% endblock %}">
		<meta
		name="author" content="fc-nutrition">

		{# Favicon #}
		<link rel="icon" href="{{ asset('favicon.ico') }}" type="image/x-icon">

		{# Fonts Google #}
		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&family=Archivo+Black&family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

		<title>
			{% block title %}
				fc-nutrition.com
			{% endblock %}
		</title>
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
			<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
		{% endblock %}

		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
			<script src="{{ asset('bundles/fosjsrouting/js/router.min.js') }}"></script>
			<script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
			<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
		{% endblock %}

	</head>

	<body>

		{% if app.request.attributes.get('needs_weight_update') %}
			<div id="weight-update-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
				<div class="bg-white p-6 rounded shadow-lg max-w-xl text-center">
					<h2 class="text-lg font-bold mb-4">Mise à jour du poids requise</h2>
					<p class="mb-4">Vous devez saisir votre poids pour continuer votre suivi régime.</p>
					<p>
						{{ render(path('app_embedded_profile_edit', {'element': 'weight'}))  }}
					</p>
					<a href="{{ path('app_energy_adjustment_stop') }}" class="text-red-500 hover:text-red-600 ml-4">Arrêter le régime</a>
				</div>
			</div>
			<script>
				// Bloquer l'interaction avec le reste de la page
				document.body.style.overflow = 'hidden';
			</script>
		{% endif %}

		{% include 'components/cookie_banner.html.twig' %}
	
		{% if is_granted('IS_AUTHENTICATED_REMEMBERED') and app.user.firstFillProfile is same as (false) %}

		{% elseif app.request.attributes.get('_route') not in routes_without_header_nav %}
			{{ include("navigation/header.html.twig") }}
		{% endif %}

		{{ include("partials/alert/alert.html.twig") }}

		{% set show_layout = not (app.request.attributes.get('_route') in routes_without_header_nav) %}

		{% if show_layout %}
			<main role="main" class="flex-1">
		{% endif %}

		{% block body %}{% endblock %}

		{% if show_layout %}
			</main>
			{{ include('partials/_footer.html.twig') }}
		{% endif %}

	</body>

	</html>
